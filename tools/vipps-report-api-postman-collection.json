{
	"info": {
		"_postman_id": "42e25ba8-4b1f-4c94-8551-32bc2c8e1b1a",
		"name": "Report API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get access token",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.environment.set(\"access_token\", pm.response.json().access_token);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "client_id",
						"value": "{{client_id}}"
					},
					{
						"key": "client_secret",
						"value": "{{client_secret}}"
					},
					{
						"key": "Ocp-Apim-Subscription-Key",
						"value": "{{OcpApimSubscriptionKey}}"
					},
					{
						"key": "Merchant-Serial-Number",
						"value": "{{merchantSerialNumber}}",
						"type": "default"
					},
					{
						"key": "Vipps-System-Name",
						"value": "{{vipps_system_name}}",
						"type": "default"
					},
					{
						"key": "Vipps-System-Version",
						"value": "{{vipps_system_version}}",
						"type": "default"
					},
					{
						"key": "Vipps-System-Plugin-Name",
						"value": "{{vipps_system_plugin_name}}",
						"type": "default"
					},
					{
						"key": "Vipps-System-Plugin-Version",
						"value": "{{vipps_system_plugin_version}}",
						"type": "default"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url_production}}/accessToken/get",
					"host": [
						"{{base_url_production}}"
					],
					"path": [
						"accessToken",
						"get"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get ledgers",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Ocp-Apim-Subscription-Key",
						"value": "{{OcpApimSubscriptionKey}}",
						"type": "default"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{access_token}}",
						"description": "The access token is a base64-encoded string that is required for all API calls. It is a JWT (JSON Web Token). It is valid for 1 hour in the test environment and 24 hours in the production environment.",
						"type": "default"
					},
					{
						"key": "Vipps-System-Name",
						"value": "{{vipps_system_name}}",
						"type": "default"
					},
					{
						"key": "Vipps-System-Version",
						"value": "{{vipps_system_version}}",
						"type": "default"
					}
				],
				"url": {
					"raw": "{{base_url_production}}/settlement/v1/ledgers",
					"host": [
						"{{base_url_production}}"
					],
					"path": [
						"settlement",
						"v1",
						"ledgers"
					],
					"query": [
						{
							"key": "settlesForRecipientHandles",
							"value": "",
							"description": "Filters for ledgers that settles for the given settlesForRecipientHandle",
							"disabled": true
						},
						{
							"key": "cursor",
							"value": "",
							"description": "We limit the amount of rows returned to reduce the amount of data we need to process on each request. If the total number of rows is greater than that amount we return a cursor in addition to the rows in the body. This cursor given can be used with this parameter to fetch the next set of ledgers. If this is used, no other parameters is needed.",
							"disabled": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get ledger transactions",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{access_token}}",
						"description": "The access token is a base64-encoded string that is required for all API calls. It is a JWT (JSON Web Token). It is valid for 1 hour in the test environment and 24 hours in the production environment.",
						"type": "default"
					},
					{
						"key": "Ocp-Apim-Subscription-Key",
						"value": "{{OcpApimSubscriptionKey}}",
						"type": "default"
					},
					{
						"key": "Vipps-System-Name",
						"value": "{{vipps_system_name}}",
						"type": "default"
					},
					{
						"key": "Vipps-System-Version",
						"value": "{{vipps_system_version}}",
						"type": "default"
					}
				],
				"url": {
					"raw": "{{base_url_production}}/report/v1/ledgertransactions?ledgerDate=2022-10-01&ledgerId=302321",
					"host": [
						"{{base_url_production}}"
					],
					"path": [
						"report",
						"v1",
						"ledgertransactions"
					],
					"query": [
						{
							"key": "ledgerDate",
							"value": "2022-10-01"
						},
						{
							"key": "fromLedgerDate",
							"value": null,
							"disabled": true
						},
						{
							"key": "inPayout",
							"value": "",
							"disabled": true
						},
						{
							"key": "sincePayout",
							"value": "",
							"disabled": true
						},
						{
							"key": "cursor",
							"value": "",
							"description": "We limit the amount of rows returned to reduce the amount of data we need to process on each request. If the total number of rows is greater than that amount we return a cursor in addition to the rows in the body. This cursor given can be used with this parameter to fetch the next set of transactions. If this is used, no other parameters other than ledgerId is needed.",
							"disabled": true
						},
						{
							"key": "ledgerId",
							"value": "302321"
						}
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "https://api.vipps.no",
			"type": "string"
		},
		{
			"key": "Ocp-Apim-Subscription-Key",
			"value": "",
			"type": "default"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "default"
		}
	]
}